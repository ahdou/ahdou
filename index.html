<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" media="all" href="css/style.css">
		<meta name="viewport" content="width=device-width, initial-scale=11, maximum-scale=1, user-scalable=no">
		<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">
		<script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
		<script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="js/move-top.js"></script>
		<script type="text/javascript" src="js/verlet-1.0.0.js"></script>
		<script type="text/javascript">
			jQuery(document).ready(function($) {
				$(".scroll").click(function(event){		
					event.preventDefault();
					$('html,body').animate({scrollTop:$(this.hash).offset().top},1000);
				});
			});
		</script>
		<title>翻滚吧阿斗-设计/前端/游戏</title>
	</head>

	<body onmousewheel="return false;">
		<!--cover-->
		<div id="cover">
			<div class="container">
				<div id="nav">
					<div id="logo">
						<div class="icon_bg">
							<a href="#">
								<img src="img/icon.png">
							</a>
						</div>
					</div>
					<a href="#who" class="scroll button">play</a>
					<br />
					<a href="#" class="button">load</a>
					<br />
					<div class="space50"></div>
					<p class="c_333">按↑，↓，←，→，有惊喜哟~</p>
				</div>
				<div id="game">
					<canvas id="_canvas" width="800" height="600"></canvas>
					<!--game-->
					<script>
						window.onload=function(){
																			var convas2d = document.getElementById("_canvas");
																			//canvas区域的宽度和高度
																			var can_width = convas2d.width;
																			var can_heiht = convas2d.height;
																			//最小单元格的大小
																			var cell_wh =10;
																			//snake用一个数组表示
																			var snake =[];
																			//分数
																			var score = 0;
																			//当前snake的方向,初始化为向右
																			var direction =37;
																			//食物
																			var food;
																			var j=0;
																			convas2d = convas2d.getContext("2d");
																			convas2d.lineWidth=0;
																			convas2d.fillStyle="#556370";
																			var sleep=200;
																			//初始化
																			function init(){
																							snake =[];
																							direction =37;
																							create_snake();
																							create_food();
																							if(typeof game_loop != "undefined")
																							clearInterval(game_loop);
																							game_loop = setInterval(paint,sleep);
																							//setInterval(paint,sleep);
																							//alert(sleep);
																							}
						
																			//绘制每一个小单元格
																			function paint_cell(x,y){
																									convas2d.fillRect(x,y,cell_wh,cell_wh);
																									convas2d.fillStyle="#556370";
																									convas2d.strokeRect(x,y,cell_wh,cell_wh);
																									convas2d.strokeStyle="#999999";
																							};
																			//创造snake，初始长度为2
																			function create_snake(){
																									snake.push({x:100,y:50});
																									snake.push({x:110,y:50});
																									}
						
						
																			//随机产生的食物点
																			function create_food(){
																									var x1= 10 * Math.floor(Math.random()*70+1);
																									var y1= 10 * Math.floor(Math.random()*50+1);
																									food={
																											x:x1,
																											y:y1
						
																										}
																									}
																			function paint(){
																			//每次重新绘制之前都要擦除之前的画面
																			convas2d.clearRect(0,0,800,600);
																			//获取snake的头部信息
																			var nx = snake[0].x;
																			var ny = snake[0].y;
																			if(direction==39)
																				nx +=10;
																			else if(direction==37)
																				nx -=10;
																			else if(direction==38)
																				ny -=10;
																			else
																				ny+=10;
																			//检查碰撞或者缠到自己
																			if(check_bump(nx,ny) || is_in(nx,ny,snake)){
																			init();
																			return;
																			}
																			//头部碰到食物了，头部加入一个cell，剪去尾巴cell
																			if(is_in(food.x,food.y,snake)){
																			create_food();
																			}
																			//没碰到食物，就向前移动,最后一个cell移除
																			else
																			snake.pop();
																			//插入头部
																			snake.unshift({x:nx,y:ny});
																			//绘制具体的snake链条
																			for(var i=0;i<snake.length;i++)
																			paint_cell(snake[i].x,snake[i].y);
																			//绘制食物
																			paint_cell(food.x,food.y);
																			}
																			//碰撞检测是否出canvas区域
																			function check_bump(x,y){
																			if(x ==-10 || x==can_width+10 || y==-10 || y==can_heiht+10)
																			return true;
																			else
																			return false;
																			}
																			//头部是否在已知的数组中
																			function is_in(x,y,array){
																			for(var i=0;i<array.length;i++)
																			if(x == array[i].x && y==array[i].y)
																			return true;
																			return false;  
																			}
																			init();
																			document.onkeydown = function(){
						    												var oEvent = window.event;
						    												oEvent = oEvent.keyCode;
						    												if(oEvent == 37 &&direction!=39) { //left
						      													direction =37;
						    													}
						    													else if(oEvent == 38&&direction!=40){ //up
						    														direction =38;
						    													}
						    													else if(oEvent == 39&&direction!=37){ //right
						    														direction =39;
						    													}
																				else if(oEvent == 40&&direction!=38){ //down
																				    direction =40;
						    													}
																			    else{}
																			}
																		};
					</script>
				</div>
			</div>
		</div>
		<!--who-->
		<div id="who">
			<div class="space10"></div>
			<div class="container txtc c_556370">
				<h1>我叫阿斗，目前是一个网页设计师。</h1>
				<div class="space20"></div>
				<p>也做一些GUI、平面相关的工作。</p>
				<div class="space20"></div>
				<div id="pro" class="imgpro">
					<a href="http://ahdou.zcool.com.cn/" target="_blank">
						<img src="img/appslt.png" />
						<div class="space10"></div>
						<p>APP UI</p>
					</a>
					<a href="http://ahdou.zcool.com.cn/" target="_blank">
						<img src="img/dqslt.png" />
						<div class="space10"></div>
						<p>促销吊旗</p>
					</a>
					<a href="http://ahdou.zcool.com.cn/" target="_blank">
						<img src="img/pvcslt.png" />
						<div class="space10"></div>
						<p>活动展架</p>
					</a>
					<a href="http://ahdou.zcool.com.cn/" target="_blank">
						<img src="img/bnslt.jpg" />
						<div class="space10"></div>
						<p>banner</p>
					</a>
				</div>
				<div class="space10 clear"></div>
				<a class="scroll em36" href="#major"><i class="glyphicon glyphicon-chevron-down c_556370"></i></a>
			</div>
		</div>
		<!--major-->
		<div id="major">
			<div class="container txtc c_556370">
				<h1>专业是计算机应用，自考艺术设计准备中……</h1>
				<div class="space20 clear"></div>
				<p>会组装电脑，也能刷刷机，偶尔涂个鸦。</p>
				<p>~兴趣广泛，不求甚解~</p>
				<a href="http://www.zcool.com.cn/work/ZNTE5NjA0MA==.html" target="_blank">
					<img src="img/doodle.png" />
				</a>
				<div class="space10 clear"></div>
				<a class="scroll em36" href="#hobby"><i class="glyphicon glyphicon-chevron-down c_556370"></i></a>
			</div>
		</div>
		<!--hobby-->
		<div id="hobby">
			<div class="container txtc c_556370">
				<h1>业余的时候，我喜欢折腾一下小游戏。</h1>
				<div class="space20 clear"></div>
				<p>爱挖坑，脑洞大到天际。</p>
				<p>属性：死宅X腐向X中二病，话痨X逗逼X女汉纸。</p>
				<a href="http://www.66rpg.com/game/15399" target="_blank">
					<img src="img/kxzjzs.png" />
				</a>
				<div class="space10 clear"></div>
				<a class="scroll em36" href="#photo"><i class="glyphicon glyphicon-chevron-down c_556370"></i></a>
			</div>
		</div>
		<!--photo-->
		<div>
			<div class="container">
				<div class="photott">
				<canvas id="canvas" width="600"height="400">      
         
				</canvas>	</div>
				<script type="text/javascript">      
    var canvas =document.getElementById("canvas");      
    var context2D =canvas.getContext("2d");   
    var pic = new Image();   
    pic.src = 'img/sun.png';  //注意目录结构，这里是把图片和html放在一个目录的  
      
    //注意下面方法中画笔状态的保护，这在很多情况下都会使用到  
    function draw(){  
        context2D.clearRect(0,0,600,500);  
        context2D.save();//保存画笔状态  
        context2D.translate(600/2*Math.random(), 500/2*Math.random());//开始移动画笔  
        context2D.drawImage(pic,0, 0);  
        context2D.restore();//绘制结束以后，恢复画笔状态  
    }          
       
    setInterval(draw, 3600);  
       
</script>
			<div class="photobg txtc" id="photo">
				<div class="space20"></div>
				<h2 class="c_ffffff">如果天气正好，就出门采采风~</h1>
				<div class="space20"></div>
				<a href="#" target="_blank"><img src="img/IMG_0364.JPG" /></a>
				<a href="#" target="_blank"><img src="img/IMG_0365.JPG" /></a>
				<a href="#" target="_blank"><img src="img/IMG_0366.JPG" /></a>
				<a href="#" target="_blank"><img src="img/IMG_0350.JPG" /></a>				
			</div>
			</div>
		</div>
		<!--info-->
		<div id="info">
			<div class="container">
				<div class="about txtc">
					<div class="space20"></div>
					<img src="img/mmqrcode_ahdou.jpg" class="wm2 fl" title="翻滚吧阿斗微信公众号" />	
					<a class="fl snsbtn" href="http://ahdou.zcool.com.cn/" target="_blank">站酷</a>
					<a class="fl snsbtn" href="http://weibo.com/3384570100" target="_blank">微博</a>
					<a class="fl snsbtn" href="http://ahdou.lofter.com/" target="_blank">乐乎</a>
					<a class="fl snsbtn" href="http://www.zhihu.com/people/ahdou" target="_blank">知乎</a>
					<p class="c_ffffff">←在这些地方也可以找到我~E-mail:me@ahdou.info </p>
				<p class="c_333 em12">Design by 阿斗     Update:2015年4月6日      Copyright © 2011~2015 ahdou.info</p>
				</div>
			<div class="yachi">
				<div class="fl yachiq">
					<i class="triangle-up"></i>
					<i class="triangle-up"></i>
				</div>						
				<div class="fr yachiq">
					<i class="triangle-up"></i>
					<i class="triangle-up"></i>
				</div>
			</div>
			</div>
		</div>
	</body>

</html>